<!DOCTYPE html>

<html>
<head>
  <title>Matrix.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
    <ul class="sections">
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              <h1 id="matrix-js">Matrix.js</h1>

            </div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              
            </div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <p>Matrix.js is a costom library developed to address the need for 
certain matrix math functions in Javascript. This custom class 
implements several mathematical functions ranging from basic 
addition and subtraction to some more programmer-oriented 
functions such as the hadamard (element-wise) product.</p>

            </div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <p>TODO:
POWERS
INVERSES</p>

            </div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <p>Require underscore.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> _ = <span class="hljs-built_in">require</span>(<span class="hljs-string">"underscore"</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <h1 id="matrix-class">Matrix Class</h1>

            </div>
            
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-7">&#182;</a>
              </div>
              <p>The main class in Matrix.js. Treated as (more or less) a reference 
data-type from here on out. Defines several properties in the 
constructor which are unique to each specific instance, and 
defines some functions which are available to the object alone.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> Matrix = module.exports = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Matrix</span><span class="hljs-params">(dimensions)</span> {</span>
	<span class="hljs-keyword">if</span>(!(<span class="hljs-keyword">this</span> <span class="hljs-keyword">instanceof</span> Matrix)) <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Matrix(dimensions);
	<span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> dimensions === <span class="hljs-string">'undefined'</span> &amp;&amp; dimensions === <span class="hljs-literal">null</span>) {
		dimensions = [<span class="hljs-number">2</span>, <span class="hljs-number">2</span>];
	}

	<span class="hljs-keyword">var</span> row, col;</pre></div></div>
            
        </li>
        
        
        <li id="section-8">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-8">&#182;</a>
              </div>
              <p>The matrix value object is where all values in the array are 
stored. It is a non-enumerable property defined as a 2D array 
with dimensions specified at creation. By default, it is 
defined as an identity matrix. If you would like to use a 
zero-filled matrix, use the <code>zero</code> function.</p>

            </div>
            
        </li>
        
        
        <li id="section-9">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-9">&#182;</a>
              </div>
              <p><strong>DEVELOPER’S NOTE:</strong> Defined here to keep values of different 
instances separate.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-built_in">Object</span>.defineProperty(<span class="hljs-keyword">this</span>, <span class="hljs-string">'value'</span>, {
		value: [],
		configurable: <span class="hljs-literal">false</span>,
		enumerable: <span class="hljs-literal">false</span>,
		writable: <span class="hljs-literal">true</span>
	});

	is2D = <span class="hljs-built_in">Array</span>.isArray(dimensions[<span class="hljs-number">0</span>]) ? <span class="hljs-literal">true</span> : <span class="hljs-literal">false</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-10">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-10">&#182;</a>
              </div>
              <p>Dimensional properties of the matrix, such as how many rows 
and columns, and an array containing the row and column info.
Row and column information is set at creation and is 
determined by the ‘dimensions’ argument. </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-built_in">Object</span>.defineProperties(<span class="hljs-keyword">this</span>, {
		rows: {
			value: is2D ? dimensions.length : dimensions[<span class="hljs-number">0</span>],
			writable: <span class="hljs-literal">false</span>
		},
		cols: {
			value: is2D ? dimensions[<span class="hljs-number">0</span>].length : dimensions[<span class="hljs-number">1</span>],
			writable: <span class="hljs-literal">false</span>
		},
		dimensions: {
			get: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
				<span class="hljs-keyword">return</span> [<span class="hljs-keyword">this</span>.rows, <span class="hljs-keyword">this</span>.cols];
			},
			enumerable: <span class="hljs-literal">false</span>
		}
	});</pre></div></div>
            
        </li>
        
        
        <li id="section-11">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-11">&#182;</a>
              </div>
              <p>If the dimensions argument is a 2D array, it is assumed that 
it contains an array of values. If it is a 1D array, it is 
assumed to be the dimensions of the matrix.</p>

            </div>
            
        </li>
        
        
        <li id="section-12">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-12">&#182;</a>
              </div>
              <p>Only the first two arrays in a 2D array count. If there are 
deeper nested arrays, it won’t pick up on that information.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">if</span>(is2D) {
		<span class="hljs-keyword">for</span>(row = <span class="hljs-number">0</span>; row &lt; dimensions.length; row++) {
			<span class="hljs-keyword">this</span>.value[row] = [];
			<span class="hljs-keyword">for</span>(col = <span class="hljs-number">0</span>; col &lt; dimensions[<span class="hljs-number">0</span>].length; col++) {
				<span class="hljs-keyword">this</span>.value[row][col] = dimensions[row][col] || <span class="hljs-number">0</span>;
			}
		}
	}
	<span class="hljs-keyword">else</span> {
		<span class="hljs-keyword">this</span>.reset();
	}
};</pre></div></div>
            
        </li>
        
        
        <li id="section-13">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-13">&#182;</a>
              </div>
              <h2 id="matrix-properties">Matrix Properties</h2>

            </div>
            
        </li>
        
        
        <li id="section-14">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-14">&#182;</a>
              </div>
              <p>Properties of the matrix object, such as the transpose of the 
matrix and the identity matrix of the same dimensions.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-built_in">Object</span>.defineProperties(Matrix.prototype, {

	T: {
		get: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
			<span class="hljs-keyword">var</span> result = <span class="hljs-keyword">new</span> Matrix([<span class="hljs-keyword">this</span>.cols, <span class="hljs-keyword">this</span>.rows]);
			result.value = _.zip.apply(_, <span class="hljs-keyword">this</span>.value);
			<span class="hljs-keyword">return</span> result;
		},
		enumerable: <span class="hljs-literal">false</span>
	},

	I: {
		get: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
			<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Matrix(<span class="hljs-keyword">this</span>.dimensions).value;
		},
		enumerable: <span class="hljs-literal">false</span>
	}

});

_.extend(Matrix.prototype, {</pre></div></div>
            
        </li>
        
        
        <li id="section-15">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-15">&#182;</a>
              </div>
              <h2 id="custom-getter-and-setter-functions">Custom Getter and Setter Functions</h2>

            </div>
            
        </li>
        
        
        <li id="section-16">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-16">&#182;</a>
              </div>
              <p>These functions are custom getter and setter methods for the 
<code>value</code> property defined on the Matrix object above. These 
allow for a more intuitive (I think) way to access and set the 
values of the matrix.</p>

            </div>
            
        </li>
        
        
        <li id="section-17">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-17">&#182;</a>
              </div>
              <p>Example usage:</p>
<pre><code>A = <span class="hljs-keyword">new</span> Matrix([<span class="hljs-number">2</span>,<span class="hljs-number">3</span>]);
A.set(<span class="hljs-number">1</span>,<span class="hljs-number">1</span>)(<span class="hljs-number">4</span>);
console.log(A.value); <span class="hljs-comment">//[ [ 0, 0, 0 ], [ 0, 4, 0 ] ]</span>
console.log(A.get(<span class="hljs-number">1</span>,<span class="hljs-number">1</span>)); <span class="hljs-comment">// 4</span>
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>
	get: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(x, y)</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.value[x][y];
	},

	set: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(x, y)</span> {</span>
		<span class="hljs-keyword">return</span> (<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(_value)</span> {</span>
			<span class="hljs-keyword">this</span>.value[x][y] = _value;
		}).bind(<span class="hljs-keyword">this</span>);
	},

	valueOf: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.value;
	},

	copy: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(M)</span> {</span>
		<span class="hljs-keyword">if</span>(!(M <span class="hljs-keyword">instanceof</span> Matrix)) M = <span class="hljs-keyword">new</span> Matrix(M);
		<span class="hljs-keyword">for</span>(row = <span class="hljs-number">0</span>; row &lt; M.rows; row++) {
			<span class="hljs-keyword">for</span>(col = <span class="hljs-number">0</span>; col &lt; M.cols; col++) {
				<span class="hljs-keyword">this</span>.value[row][col] = M.value[row][col];
			}
		}
	},

	reset: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(value)</span> {</span>
		<span class="hljs-keyword">this</span>.zero();
		<span class="hljs-keyword">for</span>(i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>.dimensions[<span class="hljs-number">0</span>]; i++) {
			<span class="hljs-keyword">this</span>.set(i, i)(<span class="hljs-number">1</span>);
		}
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-18">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-18">&#182;</a>
              </div>
              <p>Zero function accepts optional values as parameters. If a 
value is supplied, the matrix will fill itself to that value 
rather than defaulting to an identity matrix. This is one way 
to zero-out a matrix or fill it with a specific value.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	zero: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(value)</span> {</span>
		value || (value = <span class="hljs-number">0</span>);
		<span class="hljs-keyword">var</span> row, col;
		<span class="hljs-keyword">for</span>(row = <span class="hljs-number">0</span>; row &lt; <span class="hljs-keyword">this</span>.rows; row++) {
			<span class="hljs-keyword">this</span>.value[row] = [];

			<span class="hljs-keyword">for</span>(col = <span class="hljs-number">0</span>; col &lt; <span class="hljs-keyword">this</span>.cols; col++) {
				<span class="hljs-keyword">this</span>.value[row][col] = value;
			}
		}
	}
});</pre></div></div>
            
        </li>
        
        
        <li id="section-19">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-19">&#182;</a>
              </div>
              <h1 id="matrix-math-functions">Matrix Math Functions</h1>

            </div>
            
        </li>
        
        
        <li id="section-20">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-20">&#182;</a>
              </div>
              <p>Functions implemented on the Matrix object, i.e. not part of the 
prototype object. These functions accept multiple values and 
return a new Matrix object. Arguments can be scalars or Matrices.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>_.extend(Matrix, {</pre></div></div>
            
        </li>
        
        
        <li id="section-21">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-21">&#182;</a>
              </div>
              <h2 id="addition-and-subtraction-functions">Addition and Subtraction Functions</h2>

            </div>
            
        </li>
        
        
        <li id="section-22">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-22">&#182;</a>
              </div>
              <p>Matrix addition and subtraction functions. Matrices can be 
added (or subtracted) together provided that they are of the 
same dimensions. Matrices can also be modified by 
scalar values. E.g. <code>Matrix.add(3, A, 4);</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	add: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
		<span class="hljs-keyword">var</span> i, row, col;
		<span class="hljs-keyword">var</span> args = <span class="hljs-built_in">Array</span>.prototype.slice.apply(<span class="hljs-built_in">arguments</span>);
		<span class="hljs-keyword">var</span> first;
		<span class="hljs-keyword">for</span>(i = <span class="hljs-number">0</span>; i &lt; args.length &amp;&amp; !first; i++) {
			<span class="hljs-keyword">if</span>(args[i] <span class="hljs-keyword">instanceof</span> Matrix) first = args[i];
		}

		<span class="hljs-keyword">var</span> result = <span class="hljs-keyword">new</span> Matrix(first.dimensions);
		result.zero();

		result.add.apply(result, args);

		<span class="hljs-keyword">return</span> result;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-23">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-23">&#182;</a>
              </div>
              <p>When using the subtraction function, consider the order of 
operations, which is from left to right. The interpretation of 
the parameters (<strong>A</strong>, <strong>B</strong>, <strong>C</strong>) is the subtraction of 
<strong>B</strong> and <strong>C</strong> from <strong>A</strong>.</p>

            </div>
            
        </li>
        
        
        <li id="section-24">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-24">&#182;</a>
              </div>
              <pre><code>A = <span class="hljs-keyword">new</span> Matrix([<span class="hljs-number">3</span>,<span class="hljs-number">3</span>]);
B = <span class="hljs-keyword">new</span> Matrix([<span class="hljs-number">3</span>,<span class="hljs-number">3</span>]);
C = <span class="hljs-keyword">new</span> Matrix([<span class="hljs-number">3</span>,<span class="hljs-number">3</span>]);
result = Matrix.sub(A, B, C, <span class="hljs-number">3</span>); <span class="hljs-comment">// result = A - B - C - 3</span>
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>	sub: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
		<span class="hljs-keyword">var</span> i, val;
		<span class="hljs-keyword">var</span> args = <span class="hljs-built_in">Array</span>.prototype.slice.apply(<span class="hljs-built_in">arguments</span>);
		<span class="hljs-keyword">var</span> first;
		<span class="hljs-keyword">for</span>(i = <span class="hljs-number">0</span>; i &lt; args.length &amp;&amp; !first; i++) {
			<span class="hljs-keyword">if</span>(args[i] <span class="hljs-keyword">instanceof</span> Matrix) first = args[i];
		}

		<span class="hljs-keyword">var</span> result = <span class="hljs-keyword">new</span> Matrix(first.dimensions);
		<span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> args[<span class="hljs-number">0</span>] === <span class="hljs-string">'number'</span>) {
			val = args[<span class="hljs-number">0</span>];
			args[<span class="hljs-number">0</span>] = <span class="hljs-keyword">new</span> Matrix(first.dimensions);
			args[<span class="hljs-number">0</span>].zero(val);
		}
		result.copy(args.shift());

		result.sub.apply(result, args);

		<span class="hljs-keyword">return</span> result;
	},

	dot: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
		<span class="hljs-keyword">var</span> i, j, sum, A, B, row, col, result;
		<span class="hljs-keyword">var</span> args = <span class="hljs-built_in">Array</span>.prototype.slice.apply(<span class="hljs-built_in">arguments</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-25">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-25">&#182;</a>
              </div>
              <p>[0, 1, 2, 3, 4] l = 5</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">for</span>(i = <span class="hljs-number">0</span>; i &lt; args.length-<span class="hljs-number">1</span>; i++) {
			<span class="hljs-keyword">if</span>(!result) {
				A = args[i];
			} <span class="hljs-keyword">else</span> {
				A = <span class="hljs-keyword">new</span> Matrix(result.dimensions);
				A.copy(result);
			}
			B = args[i+<span class="hljs-number">1</span>];

			<span class="hljs-keyword">if</span>(A.cols !== B.rows) {
				<span class="hljs-keyword">throw</span> <span class="hljs-string">"Cannot compute the dot product of matrices of incompatible dimensions. "</span> + A.cols + <span class="hljs-string">" !== "</span> + B.rows;
			}
			result = <span class="hljs-keyword">new</span> Matrix([A.rows, B.cols]);
			result.zero();

			<span class="hljs-keyword">for</span>(row = <span class="hljs-number">0</span>; row &lt; A.rows; row++) {
				<span class="hljs-keyword">for</span>(col = <span class="hljs-number">0</span>; col &lt; B.cols; col++) {

					sum = <span class="hljs-number">0</span>;
					<span class="hljs-keyword">for</span>(j = <span class="hljs-number">0</span>; j &lt; A.cols; j++) {
						sum += A.value[row][j] * B.value[j][col];
					}
					result.value[row][col] = sum;

				}
			}
			
		}

		<span class="hljs-keyword">return</span> result;
	},

	product: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
		<span class="hljs-keyword">var</span> args = <span class="hljs-built_in">Array</span>.prototype.slice.apply(<span class="hljs-built_in">arguments</span>);

		<span class="hljs-keyword">var</span> result = <span class="hljs-keyword">new</span> Matrix(args[<span class="hljs-number">0</span>].dimensions);
		result.copy(args.shift());

		result.product.apply(result, args);

		<span class="hljs-keyword">return</span> result;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-26">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-26">&#182;</a>
              </div>
              <h2 id="element-wise-product-hadamard-">Element-Wise Product (Hadamard)</h2>

            </div>
            
        </li>
        
        
        <li id="section-27">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-27">&#182;</a>
              </div>
              <p>The element-wise product is a product which multiplies 
straight across. Element <em>ij</em> in matrix <strong>A</strong> is multiplied by 
element <em>ij</em> in matrix <strong>B</strong>.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	elproduct: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
		<span class="hljs-keyword">var</span> args = <span class="hljs-built_in">Array</span>.prototype.slice.apply(<span class="hljs-built_in">arguments</span>);

		<span class="hljs-keyword">var</span> result = <span class="hljs-keyword">new</span> Matrix(args[<span class="hljs-number">0</span>].dimensions);
		result.zero(<span class="hljs-number">1</span>);

		result.elproduct.apply(result, args);

		<span class="hljs-keyword">return</span> result;
	}

});</pre></div></div>
            
        </li>
        
        
        <li id="section-28">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-28">&#182;</a>
              </div>
              <h2 id="matrix-prototype-math-functions">Matrix Prototype Math Functions</h2>

            </div>
            
        </li>
        
        
        <li id="section-29">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-29">&#182;</a>
              </div>
              <p>Functions implemented on the prototype object. These functions do 
not return a new Matrix object, they modify the object they 
were called from.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>_.extend(Matrix.prototype, {

	add: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
		<span class="hljs-keyword">var</span> i, row, col, val;
		<span class="hljs-keyword">var</span> args = <span class="hljs-built_in">Array</span>.prototype.slice.apply(<span class="hljs-built_in">arguments</span>);
		<span class="hljs-keyword">for</span>(i = <span class="hljs-number">0</span>; i &lt; args.length; i++) {
			<span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> args[i] === <span class="hljs-string">'number'</span>) {
				val = args[i];
				args[i] = <span class="hljs-keyword">new</span> Matrix(<span class="hljs-keyword">this</span>.dimensions);
				args[i].zero(val);
			}
			<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(!_.isEqual(<span class="hljs-keyword">this</span>.dimensions, args[i].dimensions)) {
				<span class="hljs-keyword">throw</span> <span class="hljs-string">"Cannot add matrices of different dimensions."</span>;
			}

			<span class="hljs-keyword">for</span>(row = <span class="hljs-number">0</span>; row &lt; <span class="hljs-keyword">this</span>.rows; row++) {
				<span class="hljs-keyword">for</span>(col = <span class="hljs-number">0</span>; col &lt; <span class="hljs-keyword">this</span>.cols; col++) {
					<span class="hljs-keyword">this</span>.value[row][col] += args[i].value[row][col];
				}
			}
		}
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
	},

	sub: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
		<span class="hljs-keyword">var</span> i, row, col, val;
		<span class="hljs-keyword">var</span> args = <span class="hljs-built_in">Array</span>.prototype.slice.apply(<span class="hljs-built_in">arguments</span>);
		<span class="hljs-keyword">for</span>(i = <span class="hljs-number">0</span>; i &lt; args.length; i++) {
			<span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> args[i] === <span class="hljs-string">'number'</span>) {
				val = args[i];
				args[i] = <span class="hljs-keyword">new</span> Matrix(<span class="hljs-keyword">this</span>.dimensions);
				args[i].zero(val);
			}
			<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(!_.isEqual(<span class="hljs-keyword">this</span>.dimensions, args[i].dimensions)) {
				<span class="hljs-keyword">throw</span> <span class="hljs-string">"Cannot subtract matrices of different dimensions."</span>;
			}

			<span class="hljs-keyword">for</span>(row = <span class="hljs-number">0</span>; row &lt; <span class="hljs-keyword">this</span>.rows; row++) {
				<span class="hljs-keyword">for</span>(col = <span class="hljs-number">0</span>; col &lt; <span class="hljs-keyword">this</span>.cols; col++) {
					<span class="hljs-keyword">this</span>.value[row][col] -= args[i].value[row][col];
				}
			}
		}
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
	},

	dot: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
		<span class="hljs-keyword">var</span> i, result;
		<span class="hljs-keyword">var</span> args = <span class="hljs-built_in">Array</span>.prototype.slice.apply(<span class="hljs-built_in">arguments</span>);
		<span class="hljs-keyword">for</span>(i = <span class="hljs-number">0</span>; i &lt; args.length; i++) {
			<span class="hljs-keyword">if</span>(!_.isEqual(<span class="hljs-keyword">this</span>.dimensions, args[i].dimensions))
				<span class="hljs-keyword">throw</span> <span class="hljs-string">"Must supply matrices of equal dimensions. To multiply rectangular matrices, use the Matrix.dot() function."</span>;
		}

		args.unshift(<span class="hljs-keyword">this</span>);

		result = Matrix.dot.apply(<span class="hljs-keyword">this</span>, args);
		<span class="hljs-keyword">this</span>.copy(result);

		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;	
	},

	product: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
		<span class="hljs-keyword">var</span> i, row, col;
		<span class="hljs-keyword">var</span> args = <span class="hljs-built_in">Array</span>.prototype.slice.apply(<span class="hljs-built_in">arguments</span>);
		<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; args.length; i++) {</pre></div></div>
            
        </li>
        
        
        <li id="section-30">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-30">&#182;</a>
              </div>
              <p>Scalar multiplication.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> args[i] === <span class="hljs-string">'number'</span>) {
				<span class="hljs-keyword">for</span>(row = <span class="hljs-number">0</span>; row &lt; <span class="hljs-keyword">this</span>.rows; row++) {
					<span class="hljs-keyword">for</span>(col = <span class="hljs-number">0</span>; col &lt; <span class="hljs-keyword">this</span>.cols; col++) {
						<span class="hljs-keyword">this</span>.value[row][col] *= args[i];
					}
				}
			}</pre></div></div>
            
        </li>
        
        
        <li id="section-31">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-31">&#182;</a>
              </div>
              <p>Default is dot product.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(args[i] <span class="hljs-keyword">instanceof</span> Matrix) {
				<span class="hljs-keyword">this</span>.dot(args[i]);
			}
		}
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
	},

	elproduct: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
		<span class="hljs-keyword">var</span> i, row, col;
		<span class="hljs-keyword">var</span> args = <span class="hljs-built_in">Array</span>.prototype.slice.apply(<span class="hljs-built_in">arguments</span>);
		<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; args.length; i++) {
			<span class="hljs-keyword">if</span>(!_.isEqual(<span class="hljs-keyword">this</span>.dimensions, args[i].dimensions)) {
				<span class="hljs-keyword">throw</span> <span class="hljs-string">"Cannot compute the hadamard (element-wise) product of matrices of different dimensions."</span>;
			}

			<span class="hljs-keyword">for</span>(row = <span class="hljs-number">0</span>; row &lt; <span class="hljs-keyword">this</span>.rows; row++) {
				<span class="hljs-keyword">for</span>(col = <span class="hljs-number">0</span>; col &lt; <span class="hljs-keyword">this</span>.cols; col++) {
					<span class="hljs-keyword">this</span>.value[row][col] *= args[i].value[row][col];
				}
			}
		}
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
	}

});</pre></div></div>
            
        </li>
        
        
        <li id="section-32">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-32">&#182;</a>
              </div>
              <p>x = new Matrix([3,3]);</p>

            </div>
            
        </li>
        
        
        <li id="section-33">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-33">&#182;</a>
              </div>
              <p>y = new Matrix([3,3]);
y.set(1,0)(2);</p>

            </div>
            
        </li>
        
        
        <li id="section-34">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-34">&#182;</a>
              </div>
              <p>z = new Matrix([3,3]);
z.set(1,0)(2);
z.set(2,0)(5);</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
x = Matrix([[<span class="hljs-number">9</span>,<span class="hljs-number">10</span>],[<span class="hljs-number">11</span>,<span class="hljs-number">12</span>]]);
y = Matrix([[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>],[<span class="hljs-number">3</span>,<span class="hljs-number">4</span>]]);
z = Matrix([[<span class="hljs-number">5</span>,<span class="hljs-number">6</span>],[<span class="hljs-number">7</span>,<span class="hljs-number">8</span>]]);

console.log(y.value);
console.log(z.value);

<span class="hljs-keyword">var</span> ans = y.dot(z, x);</pre></div></div>
            
        </li>
        
        
        <li id="section-35">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-35">&#182;</a>
              </div>
              <p>ans.product(1.5);</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>console.log(ans.value);</pre></div></div>
            
        </li>
        
        
        <li id="section-36">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-36">&#182;</a>
              </div>
              <p>ans = Matrix.sub(ans, 5);
console.log(ans.value);</p>

            </div>
            
        </li>
        
        
        <li id="section-37">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-37">&#182;</a>
              </div>
              <p>z.product(4, 8, z);</p>

            </div>
            
        </li>
        
        
        <li id="section-38">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-38">&#182;</a>
              </div>
              <p>console.log(z.value);</p>

            </div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
